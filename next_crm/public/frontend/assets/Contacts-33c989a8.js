import{_ as M,a as $}from"./ViewControls-5fb3bbce.js";import{_ as x}from"./CustomActions-d5b79d4f.js";import{C as A}from"./ContactsIcon-a70cc581.js";import{_ as B}from"./LayoutHeader-72a3cdee.js";import{C as E}from"./ContactModal-35025f71.js";import{_ as z}from"./QuickEntryModal-ebc5f118.js";import{_ as N}from"./ContactsListView-76da7066.js";import{c as P}from"./customers-8d8733e3.js";import{d as q,t as D,c as I}from"./index-b1bb6af7.js";import{l as u,j,r as b,b as p,c as w,d as n,w as v,g as V,e as c,t as S,p as k,F as T}from"./index-8ca2d158.js";import"./FadedScrollableDiv-10ee6cf2.js";import"./IconPicker-b2d84813.js";import"./Dropdown.vue_vue_type_script_setup_true_lang-dba778cd.js";import"./views-5d4a0486.js";import"./DatePicker-0e72d67e.js";import"./PinIcon-0747ea14.js";import"./settings-9f3d7d3a.js";import"./DetailsIcon-14f9b41c.js";import"./DragVerticalIcon-523c4542.js";import"./Fields-02fbbc9b.js";import"./IndicatorIcon-367a8d49.js";import"./AddressModal-e11ac707.js";import"./Email2Icon-08867043.js";import"./PhoneIcon-42af6989.js";import"./CustomersIcon-c98fca89.js";import"./Switch.vue_vue_type_script_setup_true_lang-cbc97d13.js";import"./ListBulkActions-ccdc1c2a.js";import"./AssignmentModal-759f92c3.js";import"./ListFooter-ed664a38.js";const Q={key:1,class:"flex h-full items-center justify-center"},R={class:"flex flex-col items-center gap-3 text-xl font-medium text-gray-500"},ke={__name:"Contacts",setup(W){const{getCustomer:L}=P(),d=u(!1),i=u(!1),f=u(null),o=u({}),C=u(1),g=u(1),y=u(20),r=u(null),U=j(()=>{var s,e,m;return!((e=(s=o.value)==null?void 0:s.data)!=null&&e.data)||!["list","group_by"].includes(o.value.data.view_type)?[]:(m=o.value)==null?void 0:m.data.data.map(l=>{var _;let t={};return(_=o.value)==null||_.data.rows.forEach(a=>{var F;t[a]=l[a],a=="full_name"?t[a]={label:l.full_name,image_label:l.full_name,image:l.image}:a=="company_name"?t[a]={label:l.company_name,logo:(F=L(l.company_name))==null?void 0:F.image}:["modified","creation"].includes(a)&&(t[a]={label:q(l[a],I),timeAgo:__(D(l[a]))})}),t})});return(s,e)=>{const m=b("FeatherIcon"),l=b("Button");return p(),w(T,null,[n(B,null,{"left-header":v(()=>[n($,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),routeName:"Contacts"},null,8,["modelValue"])]),"right-header":v(()=>{var t;return[(t=f.value)!=null&&t.customListActions?(p(),V(x,{key:0,actions:f.value.customListActions},null,8,["actions"])):k("",!0),n(l,{variant:"solid",label:s.__("Create"),onClick:e[1]||(e[1]=_=>d.value=!0)},{prefix:v(()=>[n(m,{name:"plus",class:"h-4"})]),_:1},8,["label"])]}),_:1}),n(M,{ref_key:"viewControls",ref:r,modelValue:o.value,"onUpdate:modelValue":e[2]||(e[2]=t=>o.value=t),loadMore:C.value,"onUpdate:loadMore":e[3]||(e[3]=t=>C.value=t),resizeColumn:g.value,"onUpdate:resizeColumn":e[4]||(e[4]=t=>g.value=t),updatedPageCount:y.value,"onUpdate:updatedPageCount":e[5]||(e[5]=t=>y.value=t),doctype:"Contact"},null,8,["modelValue","loadMore","resizeColumn","updatedPageCount"]),o.value.data&&U.value.length?(p(),V(N,{key:0,ref_key:"contactsListView",ref:f,modelValue:o.value.data.page_length_count,"onUpdate:modelValue":e[6]||(e[6]=t=>o.value.data.page_length_count=t),list:o.value,"onUpdate:list":e[7]||(e[7]=t=>o.value=t),rows:U.value,columns:o.value.data.columns,options:{showTooltip:!1,resizeColumn:!0,rowCount:o.value.data.row_count,totalCount:o.value.data.total_count},onLoadMore:e[8]||(e[8]=()=>C.value++),onColumnWidthUpdated:e[9]||(e[9]=()=>g.value++),onUpdatePageCount:e[10]||(e[10]=t=>y.value=t),onApplyFilter:e[11]||(e[11]=t=>r.value.applyFilter(t)),onApplyLikeFilter:e[12]||(e[12]=t=>r.value.applyLikeFilter(t)),onLikeDoc:e[13]||(e[13]=t=>r.value.likeDoc(t))},null,8,["modelValue","list","rows","columns","options"])):o.value.data?(p(),w("div",Q,[c("div",R,[n(A,{class:"h-10 w-10"}),c("span",null,S(s.__("No {0} Found",[s.__("Contacts")])),1),n(l,{label:s.__("Create"),onClick:e[14]||(e[14]=t=>d.value=!0)},{prefix:v(()=>[n(m,{name:"plus",class:"h-4"})]),_:1},8,["label"])])])):k("",!0),n(E,{modelValue:d.value,"onUpdate:modelValue":e[15]||(e[15]=t=>d.value=t),quickEntry:i.value,"onUpdate:quickEntry":e[16]||(e[16]=t=>i.value=t),contact:{}},null,8,["modelValue","quickEntry"]),i.value?(p(),V(z,{key:2,modelValue:i.value,"onUpdate:modelValue":e[17]||(e[17]=t=>i.value=t),doctype:"Contact"},null,8,["modelValue"])):k("",!0)],64)}}};export{ke as default};
//# sourceMappingURL=Contacts-33c989a8.js.map
