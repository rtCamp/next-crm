import{_ as W}from"./Section-3c95fd43.js";import{E as U}from"./Email2Icon-08867043.js";import{P as q}from"./PinIcon-0747ea14.js";import{_ as Y,a as I,C as G}from"./CallUI-6ae67bda.js";import{L as O}from"./LeadsIcon-81572691.js";import{O as M}from"./OpportunitiesIcon-89f01f41.js";import{C as P}from"./ContactsIcon-a70cc581.js";import{C as T}from"./CustomersIcon-c98fca89.js";import{N as V}from"./NoteModal-6fe04093.js";import{T as J}from"./TaskIcon-1948830b.js";import{P as j}from"./PhoneIcon-42af6989.js";import{_ as K,b as a,c as l,e as t,l as Q,o as X,a as Z,r as C,u as s,t as m,d as n,w as _,F as B,f as z,g as h,n as f,S as ee,p as w,z as E,j as te,B as se,D as oe,O as ae}from"./index-8ca2d158.js";import{n as F,a as N,v as R,N as H,u as S}from"./notifications-893da417.js";import{W as ne}from"./WhatsAppIcon-1b004e01.js";import{M as le}from"./MarkAsDoneIcon-b6610cdc.js";import{g as ie,_ as D,a as re,t as ce}from"./index-b1bb6af7.js";import{o as de,a as _e}from"./Dropdown.vue_vue_type_script_setup_true_lang-dba778cd.js";import{v as ue}from"./views-5d4a0486.js";import"./FileUploader-e5eb09df.js";import"./Fields-02fbbc9b.js";import"./IndicatorIcon-367a8d49.js";import"./DatePicker-0e72d67e.js";import"./settings-9f3d7d3a.js";import"./contacts-690888e4.js";import"./ArrowUpRightIcon-c299f2a1.js";const me={},pe={width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},fe=t("path",{d:"M10.875 9.06223L3 9.06232",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),he=t("path",{d:"M6.74537 5.31699L3 9.06236L6.74527 12.8076",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),ge=t("path",{d:"M14.1423 4L14.1423 14.125",stroke:"currentColor","stroke-linecap":"round"},null,-1),xe=[fe,he,ge];function be(g,d){return a(),l("svg",pe,xe)}const ve=K(me,[["render",be]]),ye={class:"flex h-screen flex-col"},ke={class:"z-20 flex items-center justify-between border-b bg-white px-5 py-2.5"},Ce={class:"text-base font-medium"},we={class:"flex gap-1"},$e={key:0,class:"divide-y overflow-auto text-base"},Le={class:"mt-1 flex items-center gap-2.5"},Ie=["innerHTML"],Ne={key:1,class:"mb-2 space-x-1 leading-5 text-gray-600"},Se={class:"font-medium text-gray-900"},Be={class:"font-medium text-gray-900"},ze={class:"text-sm text-gray-600"},Ae={key:1,class:"flex flex-1 flex-col items-center justify-center gap-2"},Oe={class:"text-lg font-medium text-gray-500"},Me={__name:"Notifications",setup(g){const{$socket:d}=ie(),{mark_as_read:p,toggle:x,mark_doc_as_read:r}=F(),b=Q(null);de(b,()=>{R.value&&x()},{ignore:["#notifications-btn"]});function $(e){E("notification_mark_as_read"),r(e)}function v(){E("notification_mark_all_as_read"),p.reload()}X(()=>{d.off("crm_notification")}),Z(()=>{d.on("crm_notification",()=>{N.reload()})});function L(e){let o={leadId:e.reference_name};return e.route_name==="Opportunity"&&(o={opportunityId:e.reference_name}),{name:e.route_name,params:o,hash:e.hash}}return(e,o)=>{var u;const y=C("Button"),c=C("FeatherIcon"),k=C("RouterLink");return s(R)?(a(),l("div",{key:0,ref_key:"target",ref:b,class:"absolute z-20 h-screen bg-white transition-all duration-300 ease-in-out",style:ee({"box-shadow":"8px 0px 8px rgba(0, 0, 0, 0.1)","max-width":"350px","min-width":"350px",left:"calc(100% + 1px)"})},[t("div",ye,[t("div",ke,[t("div",Ce,m(e.__("Notifications")),1),t("div",we,[n(s(D),{text:e.__("Mark all as read")},{default:_(()=>[t("div",null,[n(y,{variant:"ghost",onClick:o[0]||(o[0]=()=>v())},{icon:_(()=>[n(le,{class:"h-4 w-4"})]),_:1})])]),_:1},8,["text"]),n(s(D),{text:e.__("Close")},{default:_(()=>[t("div",null,[n(y,{variant:"ghost",onClick:o[1]||(o[1]=()=>s(x)())},{icon:_(()=>[n(c,{name:"x",class:"h-4 w-4"})]),_:1})])]),_:1},8,["text"])])]),(u=s(N).data)!=null&&u.length?(a(),l("div",$e,[(a(!0),l(B,null,z(s(N).data,i=>(a(),h(k,{key:i.comment,to:L(i),class:"flex cursor-pointer items-start gap-2.5 px-4 py-2.5 hover:bg-gray-100",onClick:A=>$(i.comment||i.notification_type_doc)},{default:_(()=>[t("div",Le,[t("div",{class:f(["size-[5px] rounded-full",[i.read?"bg-transparent":"bg-gray-900"]])},null,2),i.type=="WhatsApp"?(a(),h(ne,{key:0,class:"size-7"})):(a(),h(re,{key:1,user:i.from_user.name,size:"lg"},null,8,["user"]))]),t("div",null,[i.notification_text?(a(),l("div",{key:0,innerHTML:i.notification_text},null,8,Ie)):(a(),l("div",Ne,[t("span",Se,m(i.from_user.full_name),1),t("span",null,m(e.__("mentioned you in {0}",[i.reference_doctype])),1),t("span",Be,m(i.reference_name),1)])),t("div",ze,m(e.__(s(ce)(i.creation))),1)])]),_:2},1032,["to","onClick"]))),128))])):(a(),l("div",Ae,[n(H,{class:"h-20 w-20 text-gray-300"}),t("div",Oe,m(e.__("No new notifications")),1)]))])],4)):w("",!0)}}},Pe={class:"flex-1 overflow-y-auto"},Te={class:"mb-3 flex flex-col"},Ve={key:1,class:"absolute -left-1.5 top-1 z-20 h-[5px] w-[5px] translate-x-6 translate-y-1 rounded-full bg-gray-800 ring-1 ring-white"},je={key:0,class:"mx-2 my-2 h-1 border-b"},Ee=["onClick"],Re={class:"flex flex-col"},De={class:"m-2 flex flex-col gap-1"},Fe={class:"grid h-4.5 w-4.5 flex-shrink-0 place-items-center"},He={__name:"AppSidebar",setup(g){const{getPinnedViews:d,getPublicViews:p}=ue(),{toggle:x}=F(),r=_e("isSidebarCollapsed",!1),b=[{label:"Leads",icon:O,to:"Leads"},{label:"Opportunities",icon:M,to:"Opportunities"},{label:"Contacts",icon:P,to:"Contacts"},{label:"Customers",icon:T,to:"Customers"},{label:"Notes",icon:V,to:"Notes"},{label:"Tasks",icon:J,to:"Tasks"},{label:"Call Logs",icon:j,to:"Call Logs"},{label:"Email Templates",icon:U,to:"Email Templates"}],$=te(()=>{let e=[{name:"All Views",hideLabel:!0,opened:!0,views:b}];return p().length&&e.push({name:"Public views",opened:!0,views:v(p())}),d().length&&e.push({name:"Pinned views",opened:!0,views:v(d())}),e});function v(e){return e.map(o=>({label:o.label,icon:L(o.route_name,o.icon),to:{name:o.route_name,params:{viewType:o.type||"list"},query:{view:o.name}}}))}function L(e,o){if(o)return se("div",{class:"size-auto"},o);switch(e){case"Leads":return O;case"Opportunities":return M;case"Contacts":return P;case"Customers":return T;case"Notes":return V;case"Call Logs":return j;default:return q}}return(e,o)=>{const y=C("Badge");return a(),l("div",{class:f(["relative flex h-full flex-col justify-between transition-all duration-300 ease-in-out",s(r)?"w-12":"w-[220px]"])},[t("div",null,[n(Y,{class:"p-2",isCollapsed:s(r)},null,8,["isCollapsed"])]),t("div",Pe,[t("div",Te,[n(I,{id:"notifications-btn",label:e.__("Notifications"),icon:H,isCollapsed:s(r),onClick:o[0]||(o[0]=()=>s(x)()),class:"relative mx-2 my-0.5"},{right:_(()=>[!s(r)&&s(S)?(a(),h(y,{key:0,label:s(S),variant:"subtle"},null,8,["label"])):s(S)?(a(),l("div",Ve)):w("",!0)]),_:1},8,["label","isCollapsed"])]),(a(!0),l(B,null,z($.value,c=>{var k;return a(),l("div",{key:c.label},[!c.hideLabel&&s(r)&&((k=c.views)!=null&&k.length)?(a(),l("div",je)):w("",!0),n(W,{label:c.name,hideLabel:c.hideLabel,isOpened:c.opened},{header:_(({opened:u,hide:i,toggle:A})=>[i?w("",!0):(a(),l("div",{key:0,class:f(["flex cursor-pointer gap-1.5 px-1 text-base font-medium text-gray-600 transition-all duration-300 ease-in-out",s(r)?"ml-0 h-0 overflow-hidden opacity-0":"ml-2 mt-4 h-7 w-auto opacity-100"]),onClick:Qe=>A()},[n(s(oe),{name:"chevron-right",class:f(["h-4 text-gray-900 transition-all duration-300 ease-in-out",{"rotate-90":u}])},null,8,["class"]),t("span",null,m(e.__(c.name)),1)],10,Ee))]),default:_(()=>[t("nav",Re,[(a(!0),l(B,null,z(c.views,u=>(a(),h(I,{icon:u.icon,label:e.__(u.label),to:u.to,isCollapsed:s(r),class:"mx-2 my-0.5"},null,8,["icon","label","to","isCollapsed"]))),256))])]),_:2},1032,["label","hideLabel","isOpened"])])}),128))]),t("div",De,[n(I,{label:s(r)?e.__("Expand"):e.__("Collapse"),isCollapsed:s(r),onClick:o[1]||(o[1]=c=>r.value=!s(r)),class:""},{icon:_(()=>[t("span",Fe,[n(ve,{class:f(["h-4.5 w-4.5 text-gray-700 duration-300 ease-in-out",{"[transform:rotateY(180deg)]":s(r)}])},null,8,["class"])])]),_:1},8,["label","isCollapsed"])]),n(Me)],2)}}},We={class:"flex border-b pr-5"},Ue=t("div",{id:"app-header",class:"flex-1"},null,-1),qe={class:"flex items-center justify-center"},Ye={__name:"AppHeader",setup(g){return(d,p)=>(a(),l("div",We,[Ue,t("div",qe,[n(G)])]))}},Ge={class:"flex h-screen w-screen"},Je={class:"h-full border-r bg-gray-50"},Ke={class:"flex-1 flex flex-col h-full overflow-auto"},Ct={__name:"DesktopLayout",setup(g){return(d,p)=>(a(),l("div",Ge,[t("div",Je,[n(He)]),t("div",Ke,[n(Ye),ae(d.$slots,"default")])]))}};export{Ct as default};
//# sourceMappingURL=DesktopLayout-e458b39a.js.map
